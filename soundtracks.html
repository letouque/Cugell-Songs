<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cugell – Soundtracks</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: "Trebuchet MS", Arial, sans-serif;
            background: radial-gradient(circle at top, #55415f 0, #1c1024 40%, #050308 100%);
            color: #f7f1e3;
        }

        .container {
            max-width: 1300px;
            margin: 30px auto 50px;
            padding: 20px;
            background: #3b2b22;
            border-radius: 16px;
            box-shadow: 0 0 25px rgba(0,0,0,0.7);
            border: 2px solid #c79b53;
        }

        .top-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .top-nav a {
            text-decoration: none;
            color: #f7f1e3;
            font-size: 14px;
            padding: 6px 14px;
            border-radius: 999px;
            border: 1px solid #c79b53;
            background: #2b1d16;
        }

        .top-nav a.active {
            background: #c79b53;
            color: #2b1d16;
            font-weight: bold;
        }

        .page-header {
            display: grid;
            grid-template-columns: 220px 1fr;
            gap: 20px;
            align-items: center;
            margin-bottom: 20px;
        }

        .header-image {
            width: 100%;
            max-width: 220px;
            aspect-ratio: 1 / 1;
            border-radius: 16px;
            overflow: hidden;
            border: 2px solid #c79b53;
            background: #2b1d16;
        }

        .header-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .header-text h1 {
            margin: 0 0 6px 0;
            font-size: 28px;
            letter-spacing: 1px;
        }

        .header-text h2 {
            margin: 0 0 10px 0;
            font-size: 16px;
            font-weight: normal;
            color: #d3c2a5;
        }

        .header-text p {
            margin: 0;
            font-size: 14px;
            line-height: 1.4;
        }

        @media (max-width: 700px) {
            .page-header {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .header-image {
                margin: 0 auto;
            }
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }

        .search-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .search-row input {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #c79b53;
            background: #2b1d16;
            color: #f7f1e3;
            font-size: 14px;
            flex: 1 1 260px;
        }

        .filter-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            font-size: 13px;
        }

        .filter-label {
            font-weight: bold;
            color: #e5d3b0;
            margin-right: 4px;
        }

        .filter-group {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .filter-group label {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: #2b1d16;
            border-radius: 999px;
            padding: 3px 8px;
            border: 1px solid #c79b53;
            cursor: pointer;
        }

        .counter {
            font-size: 13px;
            color: #d3c2a5;
            margin-bottom: 10px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
        }

        @media (max-width: 1100px) {
            .grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 700px) {
            .grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 450px) {
            .grid {
                grid-template-columns: repeat(1, 1fr);
            }
        }

        .song {
            background: #4a3427;
            border-radius: 10px;
            border: 1px solid #c79b53;
            padding: 10px;
            text-align: center;
        }

        .song-cover {
            width: 100%;
            aspect-ratio: 1/1;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #c79b53;
            background: #2b1d16;
            margin-bottom: 8px;
        }

        .song-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .song-title {
            font-weight: bold;
            font-size: 15px;
        }

        .song-artist {
            font-size: 13px;
            color: #e5d3b0;
            margin: 4px 0;
        }

        .song-meta {
            font-size: 12px;
            color: #d3c2a5;
            margin-top: 4px;
            line-height: 14px;
        }
    </style>
</head>

<body>
<div class="container">

    <!-- Navigation -->
    <nav class="top-nav">
        <a href="index.html">Songs</a>
        <a href="soundtracks.html" class="active">Soundtracks</a>
    </nav>

    <div class="page-header">
        <div class="header-image">
            <img src="img/header.png" alt="Soundtracks">
        </div>
        <div class="header-text">
            <h1>Cugell’s Soundtracks</h1>
            <h2>Game, anime, movies & TV music</h2>
            <p>
                Explore soundtrack music arranged for performances. Filter by franchise, decade,
                Final Fantasy game, media type or universe.
            </p>
        </div>
    </div>

    <div class="controls">

        <!-- Search -->
        <div class="search-row">
            <input type="text" id="search" placeholder="Search by title, source, composer…" />
        </div>

        <!-- Decades -->
        <div class="filter-row">
            <span class="filter-label">Decades:</span>
            <div class="filter-group">
                <label><input type="checkbox" class="decade-filter" value="60s Music">60s</label>
                <label><input type="checkbox" class="decade-filter" value="70s Music">70s</label>
                <label><input type="checkbox" class="decade-filter" value="80s Music">80s</label>
                <label><input type="checkbox" class="decade-filter" value="90s Music">90s</label>
                <label><input type="checkbox" class="decade-filter" value="2000s Music">2000s</label>
                <label><input type="checkbox" class="decade-filter" value="2010s Music">2010s</label>
                <label><input type="checkbox" class="decade-filter" value="2020s Music">2020s</label>
            </div>
        </div>

        <!-- Media type -->
        <div class="filter-row">
            <span class="filter-label">Media type:</span>
            <div class="filter-group">
                <label><input type="checkbox" class="media-filter" value="Anime">Anime</label>
                <label><input type="checkbox" class="media-filter" value="Movie">Movies</label>
                <label><input type="checkbox" class="media-filter" value="TV Show">TV Shows</label>
                <label><input type="checkbox" class="media-filter" value="Game">Games</label>
            </div>
        </div>

        <!-- Game universes -->
        <div class="filter-row">
            <span class="filter-label">Game Universe:</span>
            <div class="filter-group">
                <label><input type="checkbox" class="universe-filter" value="Nintendo">Nintendo</label>
                <label><input type="checkbox" class="universe-filter" value="PlayStation">PlayStation</label>
                <label><input type="checkbox" class="universe-filter" value="JRPG Classics">JRPG Classics</label>
                <label><input type="checkbox" class="universe-filter" value="Sega / Old School">Sega / Old School</label>
                <label><input type="checkbox" class="universe-filter" value="Indie Games">Indie Games</label>
                <label><input type="checkbox" class="universe-filter" value="Modern AAA">Modern AAA</label>
            </div>
        </div>

        <!-- Final Fantasy -->
        <div class="filter-row">
            <span class="filter-label">Final Fantasy:</span>
            <div class="filter-group final-fantasy-group">
                <label><input type="checkbox" class="ff-filter" value="I">FF I</label>
                <label><input type="checkbox" class="ff-filter" value="II">FF II</label>
                <label><input type="checkbox" class="ff-filter" value="III">FF III</label>
                <label><input type="checkbox" class="ff-filter" value="IV">FF IV</label>
                <label><input type="checkbox" class="ff-filter" value="V">FF V</label>
                <label><input type="checkbox" class="ff-filter" value="VI">FF VI</label>
                <label><input type="checkbox" class="ff-filter" value="VII">FF VII</label>
                <label><input type="checkbox" class="ff-filter" value="VIII">FF VIII</label>
                <label><input type="checkbox" class="ff-filter" value="IX">FF IX</label>
                <label><input type="checkbox" class="ff-filter" value="X">FF X</label>
                <label><input type="checkbox" class="ff-filter" value="XI">FF XI</label>
                <label><input type="checkbox" class="ff-filter" value="XII">FF XII</label>
                <label><input type="checkbox" class="ff-filter" value="XIII">FF XIII</label>
                <label><input type="checkbox" class="ff-filter" value="XIV">FF XIV</label>
                <label><input type="checkbox" class="ff-filter" value="XV">FF XV</label>
                <label><input type="checkbox" class="ff-filter" value="XVI">FF XVI</label>
                <label><input type="checkbox" class="ff-filter" value="Other FF">Other FF</label>
            </div>
        </div>

        <!-- Popular Series -->
        <div class="filter-row">
            <span class="filter-label">Popular Series:</span>
            <div class="filter-group">
                <label><input type="checkbox" class="license-filter" value="Mario">Mario</label>
                <label><input type="checkbox" class="license-filter" value="Zelda">Zelda</label>
                <label><input type="checkbox" class="license-filter" value="Pokémon">Pokémon</label>
                <label><input type="checkbox" class="license-filter" value="Nier">Nier</label>
                <label><input type="checkbox" class="license-filter" value="Chrono">Chrono</label>
                <label><input type="checkbox" class="license-filter" value="Kingdom Hearts">Kingdom Hearts</label>
                <label><input type="checkbox" class="license-filter" value="Sonic">Sonic</label>
                <label><input type="checkbox" class="license-filter" value="Megaman">Megaman</label>
                <label><input type="checkbox" class="license-filter" value="Persona">Persona</label>
                <label><input type="checkbox" class="license-filter" value="Undertale">Undertale</label>
                <label><input type="checkbox" class="license-filter" value="Hollow Knight">Hollow Knight</label>
            </div>
        </div>

    </div>

    <div class="counter" id="counter"></div>
    <div id="grid" class="grid"></div>

</div>

<!-- MULTI-FILE SOUNDTRACK SYSTEM -->
<script src="soundtracks/anime.js"></script>
<script src="soundtracks/castlevania.js"></script>
<script src="soundtracks/ff1.js"></script>
<script src="soundtracks/ff14.js"></script>
<script src="soundtracks/zelda.js"></script>

<script>
    function getChecked(cls) {
        return Array.from(document.querySelectorAll("." + cls + ":checked")).map(x => x.value);
    }

    function normArray(val) {
        if (!val) return [];
        if (Array.isArray(val)) return val;
        return val.split(",").map(v => v.trim()).filter(v => v);
    }

    function updateGrid() {
        const search = document.getElementById("search").value.toLowerCase();
        const decades = getChecked("decade-filter");
        const mediaTypes = getChecked("media-filter");
        const universes = getChecked("universe-filter");
        const ffGames = getChecked("ff-filter");
        const licenses = getChecked("license-filter");

        const grid = document.getElementById("grid");
        const counter = document.getElementById("counter");
        grid.innerHTML = "";

        const allData = [
            ...(typeof ff1 !== 'undefined' ? ff1 : []),
            ...(typeof ff2 !== 'undefined' ? ff2 : []),
            ...(typeof anime !== 'undefined' ? anime : []),
            ...(typeof movies !== 'undefined' ? movies : []),
            ...(typeof nintendo !== 'undefined' ? nintendo : []),
            ...(typeof tv !== 'undefined' ? tv : []),
            ...(typeof indies !== 'undefined' ? indies : []),
            ...(typeof sega !== 'undefined' ? sega : []),
        ];

        const filtered = allData.filter(track => {
            const searchTarget = (
                (track.title || "") + " " +
                (track.artist || "") + " " +
                (track.mediaType || "") + " " +
                (track.gameUniverse || "") + " " +
                (track.finalFantasy || "") + " " +
                (track.license || "") + " " +
                normArray(track.style).join(" ")
            ).toLowerCase();

            const matchesSearch = searchTarget.includes(search);
            const matchesDecade = decades.length === 0 || decades.includes(track.category);
            const matchesMedia = mediaTypes.length === 0 || mediaTypes.includes(track.mediaType);
            const matchesUniverse = universes.length === 0 || universes.includes(track.gameUniverse);
            const matchesFF = ffGames.length === 0 || ffGames.includes(track.finalFantasy);
            const matchesLicense = licenses.length === 0 || licenses.includes(track.license);

            return matchesSearch &&
                   matchesDecade &&
                   matchesMedia &&
                   matchesUniverse &&
                   matchesFF &&
                   matchesLicense;
        });

        filtered.forEach(track => {
            const div = document.createElement("div");
            div.className = "song";

            const cover = track.cover || "img/default-cover.jpg";
            const title = track.title || "";
            const artist = track.artist || "";
            const category = track.category || "";
            const duration = track.duration || "";

            const info = [
                track.mediaType,
                track.gameUniverse,
                track.finalFantasy,
                track.license,
                normArray(track.style).join(", ")
            ].filter(x => x).join(" • ");

            div.innerHTML = `
                <div class="song-cover"><img src="${cover}" alt="${title}"></div>
                <div class="song-title">${title}</div>
                <div class="song-artist">${artist}</div>
                <div class="song-meta">
                    ${category}<br>
                    ${info}<br>
                    ${duration ? "Duration: " + duration : ""}
                </div>
            `;
            grid.appendChild(div);
        });

        counter.textContent = `${filtered.length} track(s) shown`;
    }

    document.querySelectorAll("input[type=checkbox]").forEach(cb =>
        cb.addEventListener("change", updateGrid)
    );
    document.getElementById("search").addEventListener("input", updateGrid);

    updateGrid();
</script>

</body>
</html>
